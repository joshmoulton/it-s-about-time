
<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="/lovable-uploads/2766797d-f12e-40af-bcc7-5fdee4ce7325.png" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>Weekly Wizdom - Home</title>
    <meta name="description" content="Join the #1 cross-asset Newsletter & Community. Get notified as soon as our analysts share new ideas, get market analysis and updates every week, and track everything in our proprietary dashboard." />
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Weekly Wizdom - Home" />
    <meta property="og:description" content="Join the #1 cross-asset Newsletter & Community. Get notified as soon as our analysts share new ideas, get market analysis and updates every week, and track everything in our proprietary dashboard." />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://www.weeklywizdom.com" />
    <meta property="og:image" content="/lovable-uploads/41a57ccc-0a24-4abd-89b1-3c41c3cc3d08.png" />
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Weekly Wizdom - Home" />
    <meta name="twitter:description" content="Join the #1 cross-asset Newsletter & Community. Get notified as soon as our analysts share new ideas, get market analysis and updates every week, and track everything in our proprietary dashboard." />
    <meta name="twitter:image" content="/lovable-uploads/41a57ccc-0a24-4abd-89b1-3c41c3cc3d08.png" />
    
    <!-- Performance Optimizations - Critical Path First -->
    <link rel="preconnect" href="https://wrvvlmevpvcenauglcyz.supabase.co" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link rel="dns-prefetch" href="https://fonts.googleapis.com" />
    <link rel="dns-prefetch" href="https://js.whop.com" />
    <link rel="dns-prefetch" href="https://api.whop.com" />
    <link rel="dns-prefetch" href="https://js.stripe.com" />
    <link rel="dns-prefetch" href="https://checkout.stripe.com" />
    
    <!-- Cache Control Headers -->
    <meta http-equiv="Cache-Control" content="public, max-age=31536000, immutable" />
    <meta http-equiv="Expires" content="Thu, 31 Dec 2025 23:59:59 GMT" />
    
    <!-- Preload critical resources with highest priority -->
    <link rel="preload" href="/lovable-uploads/97f86327-e463-4091-8474-4f835ee7556f.png" as="image" fetchpriority="high" />
    <link rel="modulepreload" href="/src/main.tsx" fetchpriority="high" />
    <link rel="preload" href="/src/index.css" as="style" fetchpriority="high" />
    
    <!-- Critical CSS inlined for immediate render -->
    <style>
      /* Critical above-the-fold styles */
      html { font-family: system-ui, -apple-system, sans-serif; }
      body { margin: 0; background: #f5f7fa; color: #081426; line-height: 1.5; }
      #root { min-height: 100vh; background: #f5f7fa; }
      
      /* Loading states */
      .hero-loading { 
        display: flex; 
        align-items: center; 
        justify-content: center; 
        min-height: 100vh; 
        background: linear-gradient(135deg, #3355ff 0%, #4c6fff 100%);
      }
      .loading-spinner {
        width: 2rem; height: 2rem;
        border: 2px solid transparent;
        border-top: 2px solid white;
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }
      @keyframes spin { to { transform: rotate(360deg); } }
      
      /* Critical layout styles */
      .container { max-width: 1200px; margin: 0 auto; padding: 0 1rem; }
      .btn-primary { 
        background: #3355ff; 
        color: white; 
        padding: 0.75rem 2rem; 
        border-radius: 0.75rem; 
        text-decoration: none; 
        display: inline-block;
        font-weight: 500;
        transition: background 0.2s;
      }
      .btn-primary:hover { background: #2844ff; }
      
      /* Hero section critical styles */
      .hero-gradient {
        background: linear-gradient(135deg, #3355ff 0%, #4c6fff 100%);
        min-height: 100vh;
        display: flex;
        align-items: center;
      }
      
      /* Skip link for accessibility */
      .sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border: 0; }
      .sr-only:focus { position: static; width: auto; height: auto; padding: 0.5rem 1rem; margin: 0; overflow: visible; clip: auto; white-space: normal; }
    </style>
    
    <!-- Critical Font Loading - Optimized for Mobile -->
    <link rel="preload" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap&subset=latin" as="style" onload="this.onload=null;this.rel='stylesheet'" />
    <noscript><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500&display=swap&subset=latin" rel="stylesheet" /></noscript>

    <!-- Minimal security headers for Whop checkout compatibility -->
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="Referrer-Policy" content="no-referrer-when-downgrade">
  </head>
  <body>
    <div id="root"></div>
    <!-- Enhanced script loading for performance with preloading -->
    <link rel="modulepreload" href="/src/main.tsx" />
    <script type="module" src="/src/main.tsx" async></script>
    
    <!-- Performance optimization script -->
    <script>
      // Immediate performance optimizations
      (function() {
        // Critical font loading with minimal weights only
        if ('fonts' in document) {
          document.fonts.load('400 1em Inter');
        }
        
        // Optimized DNS prefetching for critical domains only
        const criticalDomains = [
          '//wrvvlmevpvcenauglcyz.supabase.co'
        ];
        
        criticalDomains.forEach(domain => {
          const link = document.createElement('link');
          link.rel = 'dns-prefetch';
          link.href = domain;
          document.head.appendChild(link);
        });
        
        // Service Worker registration with error handling
        if ('serviceWorker' in navigator && 'caches' in window) {
          window.addEventListener('load', () => {
            navigator.serviceWorker.register('/sw.js', { 
              scope: '/',
              updateViaCache: 'imports'
            }).then(registration => {
              // Force update on reload in dev
              if (import.meta.env?.DEV && registration.waiting) {
                registration.waiting.postMessage({type: 'SKIP_WAITING'});
              }
            }).catch(() => {});
          });
        }
        
        // Resource hints for better loading
        const resourceHints = [
          { rel: 'modulepreload', href: '/src/App.tsx' },
          { rel: 'prefetch', href: '/lovable-uploads/a8eaa39b-22e5-4a3c-a288-fe43b8619eab.png', as: 'image' },
          { rel: 'prefetch', href: 'https://i.ytimg.com/vi/uQc5bsEnaTI/maxresdefault.jpg', as: 'image' }
        ];
        
        resourceHints.forEach(hint => {
          const link = document.createElement('link');
          Object.assign(link, hint);
          document.head.appendChild(link);
        });
      })();
    </script>
  </body>
</html>
